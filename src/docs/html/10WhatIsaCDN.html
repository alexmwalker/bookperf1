<div class="chapter">
    <div class="ch-head">Chapter</div>
    <h1 class="chaptertitle"> What Is a CDN and How Does It Work?</h1>
    <h3 class="author">Bruno Å kvorc</h3>
    <p>CDN - you keep seeing the acronym. Maybe in URLs, maybe on landing pages, but it never quite clicked - what are Content
        Delivery Networks, what do they
        <strong>do</strong> exactly?</p>
    <p>We&#39;ll explain in this overview article, and demonstrate on two popular ones in followup posts.</p>
    <p>
        <img src="../images/1509315406network-1989146_640.png" alt="Network">
    </p>
    <h2 id="cdn-basics-">CDN Basics </h2>
    <p>A CDN is a network of computers that delivers content.</p>
    <p>More specifically, it&#39;s a bunch of servers geographically positioned between the origin server of some web content,
        and the user requesting it, all with the purpose of delivering the content faster by reducing latency. This is their
        <em>primary purpose</em>.</p>
    <p>These geographically closer servers, also called PoPs or Points of Presence, also cache the cacheable content which removes
        a lot of the load from the origin server. There are different types of CDNs offering different kinds of services,
        and they can have differing
        <a href="http://www.doc.ic.ac.uk/~mz4615/">
            <em>network topology
            </em>
        </a>: scattered CDNs aim to have as many servers scattered around the world as possible. Akamai is one such CDN. Consolidated
        CDNs have fewer points, but bigger ones built for network performance, throughput, and DDoS resistance.</p>
    <h2 id="types-of-cdns-">Types of CDNs </h2>
    <p>We said that their primary purpose was to reduce latency and speed up rendering. But in the modern world of 2MB images
        and 500kb JavaScript libraries that take 3 minutes to boot up on websites, this latency matters little. But there
        are other purposes to CDNs, too, which evolved over time.</p>
    <h3 id="content-oriented-cdns">Content-oriented CDNs</h3>
    <p>Initially, CDNs were just for static content (JS, CSS, HTML). You had to push content to them as you created/uploaded
        it (they didn&#39;t know they needed to update their cache with your content, not even as someone requested it).</p>
    <p>Then, they added
        <a href="https://knowledgelayer.softlayer.com/faq/how-does-origin-pull-work">origin pulling
        </a>, making things more automatic - this meant that a user requested the CDN&#39;s URL, and then the CDN requested
        the origin website&#39;s URL automatically, caching what ever it got back. Additionally, availability became an important
        factor. Many CDNs now cache a website&#39;s &quot;last alive&quot; state so that if the origin goes down, the CDNed
        content is still accessible to users, creating the illusion of stability until things return to normal.</p>
    <p>Additionally, modern CDNs often offer auto-optimization layers which will automagically resize images and save them for
        future use based on the image size requested. This means what if your site has a 2MB header image and someone requests
        it on a 300px wide screen, the CDN will make a copy that&#39;s 30kb in size and 300px wide and serve that in the
        future to all mobile users, automatically making the site faster.</p>
    <h3 id="security-oriented-cdns">Security-oriented CDNs</h3>
    <p>The final layer of practicality added to CDNs was DDoS and bot protection. CDNs like Incapsula specialize in this.</p>
    <p>As the CDN is the outermost layer of a website&#39;s infrastructure and the first recipient of traffic, it can detect
        DDoS attacks early and block them with special DDoS protection servers called
        <em>scrubbers</em> without them ever reaching the origin server and crashing it.</p>
    <p>Additionally, by using knowledge crowdsourced from its many clients, a CDN can
        <em>learn</em> about suspicious IPs, spammers, botters, even
        <em>types</em> of crawlers and their behavior. For example, a scraper that works on site A will, once identified, stop
        working on site B as well if that site is protected by the same CDN, because the traffic filter will recognize a
        pattern it&#39;s seen before.</p>
    <p>
        <img src="../images/1509315571german-shepherd-166972_640.jpg" alt="German Shepard
Guarding">
    </p>
    <p>What&#39;s more, while CDNs do allow their customers to upload custom certificates, they also offer their own. This has
        two benefits:</p>
    <ol>
        <li>When a big vulnerability in the certificates appears, the CDNs usually quickly respond because they have the most
            to lose (all their customers). Hence, a fix is usually in place before most people even know about the security
            hole.</li>
        <li>Connections are faster because if many websites use the same CDN, then you&#39;ve already established a valid connection
            and mutual trust with the CDN via its SSL certificate, and this process does not have to be repeated for every
            site that uses that CDN&#39;s certificate. This doesn&#39;t impact an individual website as much as it does
            <em>the entire web
            </em>.</li>
    </ol>
    <h2 id="biggest-players-">Biggest Players </h2>
    <p>Some of the biggest players in the CDN space are companies like Akamai, AWS Cloudfront, Cloudinary, Incapsula, MaxCDN,
        Fastly, and others.</p>
    <p>Rather than
        <a href="https://www.geckoandfly.com/10077/maxcdn-amazon-cloudfront-cloudflare-cachefly-and-edgecast-cdn-comparison/">compare them in full
        </a>, we&#39;ll list the categories in which each can be a champion:</p>
    <h3 id="scraping-and-ddos-protection">Scraping and DDoS Protection</h3>
    <p>While fine in every other way too, Incapsula is unbeatable in scraping and DDoS protection. With an extensive database
        of not only offending proxy IP addresses but also mouse and browsing patterns of bots and scrapers, Incapsula stops
        most automated attacks dead in their tracks.</p>
    <p>
        <strong>Choose if:</strong> you&#39;re a web shop and don&#39;t want your competitors to scrap your catalog</p>
    <h3 id="speed-and-global-reach">Speed and Global Reach</h3>
    <p>Akamai, the CDN that even Facebook uses, has a proven track record of global availability. Their scattered model of network
        topology and availability in even the poorer parts of the world (something other CDNs lack) make content served with
        Akamai smooth to load even in low-connectivity areas. A close second is AWS Cloudfront from Amazon.</p>
    <p>
        <strong>Choose if:</strong> you&#39;re aiming for global reach, from China to US, from Finland to Antarctica.</p>
    <h3 id="affordability">Affordability</h3>
    <p>Amazon Cloudfront is the cheapest of the paid plans (we don&#39;t count free plans as those often lack important features)
        and has the arguably largest reach after Akamai, which isn&#39;t exactly cheap (a scattered topology is expensive
        to maintain).</p>
    <p>
        <strong>Choose if:</strong> price is an issue.</p>
    <h3 id="hotlinking">Hotlinking</h3>
    <p>Hotlinking is when someone selects &quot;Copy image address&quot; on an image hosted on your website, and includes it
        in their own directly, with the original URL intact. This is usually sloppy and lazy work on the side of content
        thieves, but can lead to big expenses if the copycat succeeds in sharing their site on large-impact social media
        website like Facebook or Reddit, and your server suffers for it. MaxCDN and KeyCDN both offer very good hotlinking
        protection.</p>
    <p>
        <strong>Choose if:</strong> you&#39;ve got a gallery, travel blog, or any other image-rich site which is at risk of hotlinking.</p>
    <h3 id="other">Other</h3>
    <p>We encourage you to go out and investigate on your own. There are countless posts comparing the CDNs one to the other,
        and each plan of each CDN differs in offered options to the next one. It&#39;s extremely difficult to cover them
        all, and the landscape constantly changes.</p>
    <h2 id="implementation-process-">Implementation Process </h2>
    <p>Implementing a CDN typically entails changing some DNS records in the control panel of the registrar (the company renting
        you your domain name). This results in all traffic hitting the CDN first, which in turn hits your website. Since
        it all happens behind the scenes (through IPs), the process is transparent to the user.</p>
    <p>
        <img src="../images/1509315728a1443ce742af309856b66e2d1777bd9d-coding-programming.jpg" alt="Front end vs back
end">
    </p>
    <p>Sometimes, sites will add a special subdomain to their main domain on which to host images, JavaScript, CSS, and other
        static content. If you open the Network tab of a browser&#39;s dev console or just pay attention to the status bar
        of your browser while a site like Facebook is loading, you&#39;ll notice a lot of URLs with
        <code>cdn</code> in them - that&#39;s the site in question requesting only
        <em>some</em> of its content from CDNs.</p>
    <p>Why not request all content through CDNs? Because static content is usually big - 2MB images, 500kb of JS, etc. This
        is worth serving quickly, because a) it doesn&#39;t change often and can be cached for a long time and b) removes
        a big, big load from the main server of the app, which can be dynamic.</p>
    <h2 id="conclusion">Conclusion</h2>
    <p>In this article, you learned what a CDN was and how it works. You found out about the different types of CDNs and their
        potential scope of work, as well as the biggest players in the field.</p>
    <p>In two followup articles we&#39;ll introduce Cloudinary and Cloudflare, and in our major Performance-Month-Project we&#39;ll
        actually implement one of them into our real world app so you can see it in action on a live example. Stay tuned!</p>
</div>